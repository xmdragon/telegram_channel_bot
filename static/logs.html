<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Á≥ªÁªüÊó•ÂøóÁõëÊéß - TelegramÈ¢ëÈÅìÊú∫Âô®‰∫∫</title>
    <link rel="stylesheet" href="assets/css/element-plus.css">
    <link rel="stylesheet" href="assets/css/starcraft.css">
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/logs.css">
    <script src="assets/js/vue.prod.js"></script>
    <script src="assets/js/element-plus.js"></script>
    <script src="assets/js/axios.js"></script>
    <script src="assets/js/components/navbar.js"></script>
</head>
<body>
    <div id="app">
        <nav-bar page-title="üìã Á≥ªÁªüÊó•ÂøóÁõëÊéß" page-subtitle="ÂÆûÊó∂Êó•Âøó ¬∑ Á≥ªÁªüÁõëÊéß ¬∑ ËøêË°åÁä∂ÊÄÅ"></nav-bar>
        
        <div class="main-content">
                    <div class="logs-container">
                        <!-- ÊéßÂà∂Ê†è -->
                        <el-row :gutter="20" class="control-bar">
                            <el-col :span="24">
                                <el-card shadow="never">
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <!-- Êó•ÂøóÁ∫ßÂà´ÈÄâÊã© -->
                                        <el-select v-model="selectedLevel" placeholder="ÈÄâÊã©Êó•ÂøóÁ∫ßÂà´" clearable @change="filterLogs" style="width: 140px;">
                                            <el-option label="ÂÖ®ÈÉ®" value=""></el-option>
                                            <el-option label="DEBUG" value="DEBUG"></el-option>
                                            <el-option label="INFO" value="INFO"></el-option>
                                            <el-option label="WARNING" value="WARNING"></el-option>
                                            <el-option label="ERROR" value="ERROR"></el-option>
                                            <el-option label="CRITICAL" value="CRITICAL"></el-option>
                                        </el-select>
                                        
                                        <!-- ÊêúÁ¥¢Ê°Ü -->
                                        <el-input 
                                            v-model="searchText" 
                                            placeholder="ÊêúÁ¥¢Êó•ÂøóÂÜÖÂÆπ..." 
                                            @input="filterLogs"
                                            clearable
                                            style="flex: 1; max-width: 400px;"
                                        >
                                            <template #prefix>
                                                <el-icon><Search /></el-icon>
                                            </template>
                                        </el-input>
                                        
                                        <!-- ÊåâÈíÆÁªÑ -->
                                        <div style="margin-left: auto; display: flex; gap: 10px;">
                                            <el-button @click="toggleAutoRefresh" :type="autoRefresh ? 'success' : 'info'" size="default">
                                                <el-icon><Timer /></el-icon>
                                                {{ autoRefresh ? 'ÂÅúÊ≠¢Ëá™Âä®Âà∑Êñ∞' : 'ÂºÄÂßãËá™Âä®Âà∑Êñ∞' }}
                                            </el-button>
                                            <el-button @click="clearLogs" type="warning" size="default">
                                                <el-icon><Delete /></el-icon>
                                                Ê∏ÖÁ©∫Êó•Âøó
                                            </el-button>
                                        </div>
                                    </div>
                                </el-card>
                            </el-col>
                        </el-row>

                        <!-- Êó•ÂøóÊòæÁ§∫Âå∫Âüü -->
                        <el-card shadow="never" class="logs-display">
                            <div class="logs-header">
                                <h3>Á≥ªÁªüÊó•Âøó <span class="timestamp">{{ lastUpdate }}</span></h3>
                                <p style="margin: 0; font-size: 12px; color: #909399;">
                                    üìå ÊúÄÊñ∞Êó•ÂøóÊòæÁ§∫Âú®È°∂ÈÉ®ÔºåÊåâÊó∂Èó¥ÂÄíÂ∫èÊéíÂàó
                                </p>
                            </div>
                            
                            <div class="logs-content" ref="logsContainer">
                                <div v-if="filteredLogs.length === 0" class="no-logs">
                                    <el-empty description="ÊöÇÊó†Êó•ÂøóÊï∞ÊçÆ" />
                                </div>
                                
                                <div 
                                    v-for="(log, index) in filteredLogs" 
                                    :key="index" 
                                    class="log-entry"
                                    :class="'log-level-' + (log.level || 'info').toLowerCase()"
                                >
                                    <div class="log-compact">
                                        <span class="log-time">{{ formatTime(log.timestamp || log.time || '') }}</span>
                                        <span :class="'log-level log-level-' + (log.level || 'info').toLowerCase()">{{ log.level || 'INFO' }}</span>
                                        <span class="log-text">{{ log.message || log.content || 'No message' }}</span>
                                    </div>
                                </div>
                            </div>
                        </el-card>

                        <!-- ÁªüËÆ°‰ø°ÊÅØ -->
                        <el-row :gutter="20" class="stats-bar">
                            <el-col :span="8">
                                <el-statistic title="ÊÄªÊó•ÂøóÊï∞" :value="logs.length" />
                            </el-col>
                            <el-col :span="8">
                                <el-statistic title="ÊòæÁ§∫Êó•ÂøóÊï∞" :value="filteredLogs.length" />
                            </el-col>
                            <el-col :span="8">
                                <el-statistic title="Êõ¥Êñ∞Èó¥Èöî" :value="refreshInterval / 1000" suffix="Áßí" />
                            </el-col>
                        </el-row>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="./assets/js/components/logs.js"></script>
</body>
</html>